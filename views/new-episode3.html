<!DOCTYPE html>
<html ng-app="kimz">
  <head>
    <meta charset="UTF-8">
    <title>ngShow and ngHide</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
    <script src="/js/angula-init.js"></script>
    <script src="js/controllers.js"></script>
    <style>
      .friend-first {
        color: red;
      }
      .friend-middle {
        color: green;
      }
      .friend-last {
        color: blue;
      }
      .friend-odd {
        color: gray;
      }
      .friend-even {
        color: yellow;
      }
    </style>
  </head>
  <body>
    <div class="well span12" style="margin-top: 20px;" ng-controller="friendCtrl">
      <div role="form" style="margin-bottom: 20px;">
        <div class="form-group">
          <label class="control-label">
            Name:&nbsp;
            <input type="text" ng-model="nName" placeholder="Name">
          </label>
        </div>
        <div class="form-group">
          <label class="control-label">
            Age:&nbsp;
            <input type="number" ng-model="nAge" placeholder="Age">
          </label>
        </div>
        <br>
        <button class="btn btn-primary" ng-click="addFriend()">Add</button>
      </div>
      <hr>
      <div role="form">
        <div class="form-group">
          <label>
            Filter:&nbsp;
            <input type="text" ng-model="search" placeholder="filter">
          </label>
        </div>
      </div>
      <h5>總數：[[ nu ]]</h5>
      <ul>
        <li ng-repeat="friend in friends | filter:search">
          <h2>
            <span ng-show="$even" style="color: gray;">[[ friend.name ]]</span>
            <span ng-show="$odd" style="color: yellow;">[[ friend.name ]]</span>
          </h2>
          <div class="alert alert-info" ng-dblclick="edit(friend)">
            <span ng-hide="friend.editing">
              <span>[[ friend.name ]]&nbsp;</span>
              <span class="badge" style="background: red;">[[ friend.age ]]歲</span>&nbsp;
              <button class="close" type="button" ng-click="remove($index)">&times;</button>
            </span>
            <span ng-show="friend.editing">
              <form ng-submit="set(friend)">
                <input type="text" value="[[ friend.name ]]" ng-model="friend.name">
                <input type="number" value="[[ friend.age ]]" ng-model="friend.age">
                <button class="btn btn-error" type="submit">修改</button>
              </form>
            </span>
          </div>
          <div class="progress progress-striped active" ng-repeat-end>
            <div class="progress-bar" style="width: [[ friend.age ]]%"></div>
          </div>
        </li>
      </ul>
    </div>
  </body>
</html>
